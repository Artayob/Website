<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCR Ride Bookings: Interactive Analysis</title>
    <!-- Chosen Palette: Calm Neutrals with Teal Accent -->
    <!-- Application Structure Plan: The application is structured as a single-page dashboard with a sticky top navigation. This allows users to freely jump between thematic sections (Overview, Ride DNA, Operations, Customers, and Summary) rather than following the linear structure of the original report. This design choice prioritizes user-driven exploration and quick access to specific insights. Each section is a self-contained module with explanatory text and corresponding visualizations, creating a logical and intuitive user flow. -->
    <!-- Visualization & Content Choices: Key metrics are presented as large "stat cards" for immediate impact. Bar charts are used for fare distribution and completion rates to facilitate easy comparison. A dual-axis line/bar chart is chosen for peak hour analysis to show the relationship between ride volume and wait times. A doughnut chart visualizes cancellation reasons for a clear part-to-whole understanding. All choices use Chart.js (Canvas) for interactivity and responsiveness, avoiding static SVG/Mermaid to align with the prompt's requirements. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        .nav-button.active {
            background-color: #14B8A6;
            color: white;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 45vh;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-teal-600">NCR Ride Bookings: An Interactive Analysis</h1>
            <p class="text-slate-500 mt-2">An interactive dashboard translating data into business insights.</p>
        </header>

        <nav class="sticky top-0 z-50 bg-slate-50/80 backdrop-blur-md p-4 mb-8 rounded-xl shadow-md">
            <div class="flex flex-wrap justify-center gap-2 md:gap-4">
                <button data-target="overview" class="nav-button active px-4 py-2 rounded-lg font-semibold text-slate-700 hover:bg-teal-500 hover:text-white transition-all duration-300">Key Metrics</button>
                <button data-target="characteristics" class="nav-button px-4 py-2 rounded-lg font-semibold text-slate-700 hover:bg-teal-500 hover:text-white transition-all duration-300">Ride DNA</button>
                <button data-target="operations" class="nav-button px-4 py-2 rounded-lg font-semibold text-slate-700 hover:bg-teal-500 hover:text-white transition-all duration-300">Operations Deep-Dive</button>
                <button data-target="customers" class="nav-button px-4 py-2 rounded-lg font-semibold text-slate-700 hover:bg-teal-500 hover:text-white transition-all duration-300">Customer Insights</button>
                <button data-target="summary" class="nav-button px-4 py-2 rounded-lg font-semibold text-slate-700 hover:bg-teal-500 hover:text-white transition-all duration-300">Summary</button>
            </div>
        </nav>

        <main id="main-content">

            <section id="overview" class="content-section space-y-8">
                <div class="text-center">
                    <h2 class="text-2xl font-bold text-slate-700">Project at a Glance</h2>
                    <p class="text-slate-500 mt-1 max-w-2xl mx-auto">This overview summarizes the key performance indicators from the 8,700 cleaned and analyzed ride bookings, providing a high-level snapshot of the business.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                        <h3 class="text-slate-500 font-semibold">Total Analyzed Bookings</h3>
                        <p class="text-4xl font-bold text-teal-600 mt-2">8,700</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                        <h3 class="text-slate-500 font-semibold">Average Booking Value</h3>
                        <p class="text-4xl font-bold text-teal-600 mt-2">$175</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                        <h3 class="text-slate-500 font-semibold">Median Booking Value</h3>
                        <p class="text-4xl font-bold text-teal-600 mt-2">$120</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                        <h3 class="text-slate-500 font-semibold">Correlation (Dist vs. Value)</h3>
                        <p class="text-4xl font-bold text-teal-600 mt-2">0.32</p>
                    </div>
                </div>
            </section>

            <section id="characteristics" class="content-section hidden space-y-12">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-slate-700 text-center">The DNA of a Ride</h2>
                    <p class="text-slate-500 mt-2 text-center max-w-3xl mx-auto">This section breaks down the core characteristics of the rides, from how much customers are paying to which vehicle types are most reliable.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 items-center">
                    <div class="lg:col-span-2">
                        <h3 class="text-xl font-semibold mb-2 text-slate-700">Fare Distribution</h3>
                        <p class="text-slate-500 mb-4">The majority of rides are low-cost, everyday trips. The analysis shows that 74% of all bookings are for fares under $200, highlighting the service's role as a go-to for routine travel. Higher-fare rides, while less frequent, contribute significantly to overall revenue.</p>
                    </div>
                    <div class="lg:col-span-3">
                        <div class="chart-container">
                            <canvas id="fareDistributionChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 items-center">
                    <div class="lg:col-span-3 lg:order-last">
                        <div class="chart-container">
                            <canvas id="completionRateChart"></canvas>
                        </div>
                    </div>
                     <div class="lg:col-span-2 lg:order-first">
                        <h3 class="text-xl font-semibold mb-2 text-slate-700">Vehicle Performance</h3>
                        <p class="text-slate-500 mb-4">Not all vehicles perform equally. The data reveals a significant difference in reliability, measured by completion rate. eBikes lead with an 80% completion rate, whereas Cabs lag at 65%, indicating potential operational issues or higher cancellation frequencies for that vehicle type.</p>
                    </div>
                </div>
            </section>
            
            <section id="operations" class="content-section hidden space-y-12">
                 <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-slate-700 text-center">Operations Deep-Dive</h2>
                    <p class="text-slate-500 mt-2 text-center max-w-3xl mx-auto">Understanding operational efficiency is key. Here, we explore the reasons behind cancellations and identify service bottlenecks during peak hours.</p>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                    <div>
                        <h3 class="text-xl font-semibold mb-2 text-slate-700">Why are Rides Cancelled?</h3>
                        <p class="text-slate-500 mb-4">Cancellations disrupt service for everyone. The data shows distinct reasons depending on who cancels. Customers most often cancel due to a "Change of Plans," while drivers are most affected by "Traffic/Delay." Addressing these core issues could significantly improve service reliability.</p>
                        <div class="chart-container">
                             <canvas id="cancellationReasonsChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-2 text-slate-700">Peak Hour Bottlenecks</h3>
                        <p class="text-slate-500 mb-4">Service quality is under pressure during morning and evening rush hours. The analysis shows that the busiest hours (8-9 AM & 6-8 PM) have the longest average wait and travel times (VTAT/CTAT), pointing to a classic supply-and-demand challenge.</p>
                        <div class="chart-container">
                             <canvas id="peakHoursChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <section id="customers" class="content-section hidden space-y-8">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-slate-700 text-center">Customer Insights & Churn</h2>
                    <p class="text-slate-500 mt-2 text-center max-w-3xl mx-auto">This section focuses on customer behavior, highlighting loyalty trends and identifying customers at risk of churn. Retaining customers is as important as acquiring new ones.</p>
                </div>

                <div class="bg-white p-8 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold text-slate-700">The Churn Challenge</h3>
                    <p class="text-slate-500 mt-4">The analysis revealed two distinct customer groups. Customers who joined in 2023 show strong loyalty, continuing to book rides into 2024. However, customers acquired in 2024 exhibit a significant drop-off after their first few rides. This indicates a growing retention problem that needs to be addressed.</p>
                    <div class="mt-6 border-t border-slate-200 pt-6">
                        <h4 class="font-semibold text-red-600">High Churn Risk Identified</h4>
                        <p class="text-slate-500 mt-2">A segment of customers from 2023 with low booking counts and no recent activity has been classified as "High Risk." This group is a prime target for a re-engagement campaign to prevent them from leaving the service permanently.</p>
                    </div>
                </div>
            </section>
            
            <section id="summary" class="content-section hidden space-y-8">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-slate-700 text-center">Summary & Recommendations</h2>
                    <p class="text-slate-500 mt-2 text-center max-w-3xl mx-auto">This project demonstrates the power of SQL to transform raw data into a clear business narrative. The analysis has uncovered key strengths, weaknesses, and opportunities.</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-white p-8 rounded-xl shadow-lg">
                        <h3 class="text-xl font-semibold text-slate-700">Key Findings</h3>
                        <ul class="list-disc list-inside mt-4 space-y-3 text-slate-600">
                            <li><span class="font-semibold">Low-fare rides</span> are the foundation of the business, but high-value trips are crucial for revenue.</li>
                            <li><span class="font-semibold">Operational bottlenecks</span> during peak hours negatively impact service quality and wait times.</li>
                            <li><span class="font-semibold">Vehicle reliability varies,</span> with Cabs showing a significantly lower completion rate than other types.</li>
                            <li><span class="font-semibold">Customer retention is a growing concern,</span> especially among newly acquired users.</li>
                        </ul>
                    </div>
                     <div class="bg-white p-8 rounded-xl shadow-lg">
                        <h3 class="text-xl font-semibold text-slate-700">Actionable Recommendations</h3>
                        <ul class="list-disc list-inside mt-4 space-y-3 text-slate-600">
                            <li><span class="font-semibold">Optimize the Cab Service:</span> Investigate the root causes of the high cancellation rate for Cabs to improve driver and customer experience.</li>
                            <li><span class="font-semibold">Mitigate Peak Hour Strain:</span> Implement driver incentives or dynamic pricing during rush hours to better match supply with demand.</li>
                            <li><span class="font-semibold">Launch a Retention Program:</span> Create a loyalty or re-engagement campaign targeting new users and those identified as "High Risk" to reduce churn.</li>
                        </ul>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const navButtons = document.querySelectorAll('.nav-button');
            const contentSections = document.querySelectorAll('.content-section');

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.target;
                    
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    contentSections.forEach(section => {
                        if (section.id === targetId) {
                            section.classList.remove('hidden');
                        } else {
                            section.classList.add('hidden');
                        }
                    });
                });
            });

            const tealColors = {
                base: 'rgba(20, 184, 166, 0.8)',
                light: 'rgba(20, 184, 166, 0.5)',
                dark: 'rgba(15, 118, 110, 1)',
                border: 'rgba(20, 184, 166, 1)',
            };
            const slateColors = {
                base: 'rgba(71, 85, 105, 0.8)',
                light: 'rgba(100, 116, 139, 0.5)',
                dark: 'rgba(51, 65, 85, 1)',
                border: 'rgba(71, 85, 105, 1)',
            };
            
            const chartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        backgroundColor: '#fff',
                        titleColor: '#334155',
                        bodyColor: '#475569',
                        borderColor: '#e2e8f0',
                        borderWidth: 1,
                        padding: 10,
                        displayColors: true,
                    },
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: '#e2e8f0'
                        },
                        ticks: {
                            color: '#64748b'
                        }
                    },
                    x: {
                         grid: {
                            display: false,
                        },
                        ticks: {
                            color: '#64748b'
                        }
                    }
                }
            };
            
            // Chart 1: Fare Distribution
            const fareCtx = document.getElementById('fareDistributionChart').getContext('2d');
            new Chart(fareCtx, {
                type: 'bar',
                data: {
                    labels: ['< $100', '$100-199', '$200-299', '>= $300'],
                    datasets: [{
                        label: 'Percentage of Rides',
                        data: [58.0, 23.5, 10.6, 7.9],
                        backgroundColor: tealColors.light,
                        borderColor: tealColors.border,
                        borderWidth: 2,
                        borderRadius: 5,
                    }]
                },
                options: { ...chartOptions, indexAxis: 'y' }
            });

            // Chart 2: Vehicle Completion Rate
            const completionCtx = document.getElementById('completionRateChart').getContext('2d');
            new Chart(completionCtx, {
                type: 'bar',
                data: {
                    labels: ['eBike', 'Auto', 'Go Mini', 'Cab'],
                    datasets: [{
                        label: 'Completion Rate (%)',
                        data: [80, 78, 75, 65],
                        backgroundColor: [
                            'rgba(20, 184, 166, 0.7)',
                            'rgba(20, 184, 166, 0.6)',
                            'rgba(20, 184, 166, 0.5)',
                            'rgba(244, 63, 94, 0.6)'
                        ],
                         borderColor: [
                            'rgba(20, 184, 166, 1)',
                            'rgba(20, 184, 166, 1)',
                            'rgba(20, 184, 166, 1)',
                            'rgba(244, 63, 94, 1)'
                        ],
                        borderWidth: 2,
                        borderRadius: 5,
                    }]
                },
                options: chartOptions
            });

            // Chart 3: Cancellation Reasons
            const cancelCtx = document.getElementById('cancellationReasonsChart').getContext('2d');
            new Chart(cancelCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Customer: Change of Plans', 'Driver: Traffic/Delay', 'System: Vehicle Breakdown', 'Other'],
                    datasets: [{
                        label: 'Cancellation Reasons',
                        data: [45, 30, 15, 10],
                        backgroundColor: [tealColors.base, slateColors.base, 'rgba(239, 68, 68, 0.7)', slateColors.light],
                        borderColor: '#fff',
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                         legend: {
                            position: 'bottom',
                        },
                        tooltip: chartOptions.plugins.tooltip
                    }
                }
            });

            // Chart 4: Peak Hours
            const peakHoursCtx = document.getElementById('peakHoursChart').getContext('2d');
            new Chart(peakHoursCtx, {
                type: 'bar',
                data: {
                    labels: ['12a-6a', '7-9a', '10a-4p', '5-8p', '9p-11p'],
                    datasets: [{
                        type: 'bar',
                        label: 'Ride Count',
                        data: [500, 2500, 3000, 2200, 500],
                        backgroundColor: slateColors.light,
                        borderColor: slateColors.border,
                        yAxisID: 'y',
                        order: 2
                    }, {
                        type: 'line',
                        label: 'Avg Wait Time (VTAT mins)',
                        data: [5.2, 13.4, 8.1, 14.2, 6.5],
                        borderColor: tealColors.border,
                        backgroundColor: tealColors.base,
                        tension: 0.3,
                        yAxisID: 'y1',
                        order: 1
                    }]
                },
                options: {
                   ...chartOptions,
                   scales: {
                       y: {
                           type: 'linear',
                           display: true,
                           position: 'left',
                           title: {
                               display: true,
                               text: 'Number of Rides'
                           }
                       },
                       y1: {
                           type: 'linear',
                           display: true,
                           position: 'right',
                           title: {
                               display: true,
                               text: 'Avg Wait Time (mins)'
                           },
                           grid: {
                               drawOnChartArea: false, 
                           },
                       },
                   }
                }
            });

        });
    </script>
</body>
</html>
